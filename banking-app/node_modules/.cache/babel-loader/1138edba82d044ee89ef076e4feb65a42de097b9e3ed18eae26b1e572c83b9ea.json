{"ast":null,"code":"import _toConsumableArray from\"C:/Users/nghia/Desktop/Learning Web Coding/banking-application/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/nghia/Desktop/Learning Web Coding/banking-application/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import AuthContext from\"./auth-context\";import{jsx as _jsx}from\"react/jsx-runtime\";var AuthProvider=function AuthProvider(props){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),currentLogin=_useState2[0],setCurrentLogin=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),accounts=_useState4[0],setAccounts=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoggedIn=_useState6[0],setIsLoggedIn=_useState6[1];var signupHandler=function signupHandler(firstName,lastName,email,password){setAccounts(function(prevState){return[].concat(_toConsumableArray(prevState),[{firstName:firstName,lastName:lastName,email:email,password:password,money:0,transaction:[]}]);});};var loginHandler=function loginHandler(email,password){console.log(accounts);if(accounts.length===0)alert(\"Account not found!\");for(var i=0;i<accounts.length;i++){if(accounts[i].email===email&&accounts[i].password===password){setIsLoggedIn(true);setCurrentLogin(accounts[i]);break;}}};var logoutHandler=function logoutHandler(){setIsLoggedIn(false);setCurrentLogin({});};var deposit=function deposit(amount,activity){currentLogin.money+=parseInt(amount);currentLogin.transaction=[activity].concat(_toConsumableArray(currentLogin.transaction));setCurrentLogin(currentLogin);};var withdrawal=function withdrawal(amount,activity){currentLogin.money-=parseInt(amount);currentLogin.transaction=[activity].concat(_toConsumableArray(currentLogin.transaction));setCurrentLogin(currentLogin);};var authContext={users:accounts,isLoggedIn:isLoggedIn,currentLogin:currentLogin,onLogout:logoutHandler,onLogin:loginHandler,onSignup:signupHandler,onDeposit:deposit,onWithdrawal:withdrawal};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:authContext,children:props.children});};export default AuthProvider;","map":{"version":3,"names":["useState","AuthContext","jsx","_jsx","AuthProvider","props","_useState","_useState2","_slicedToArray","currentLogin","setCurrentLogin","_useState3","_useState4","accounts","setAccounts","_useState5","_useState6","isLoggedIn","setIsLoggedIn","signupHandler","firstName","lastName","email","password","prevState","concat","_toConsumableArray","money","transaction","loginHandler","console","log","length","alert","i","logoutHandler","deposit","amount","activity","parseInt","withdrawal","authContext","users","onLogout","onLogin","onSignup","onDeposit","onWithdrawal","Provider","value","children"],"sources":["C:/Users/nghia/Desktop/Learning Web Coding/banking-application/src/store/AuthProvider.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport AuthContext from \"./auth-context\";\r\n\r\nconst AuthProvider = (props) => {\r\n  const [currentLogin, setCurrentLogin] = useState({});\r\n  const [accounts, setAccounts] = useState([]);\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n\r\n  const signupHandler = (firstName, lastName, email, password) => {\r\n    setAccounts((prevState) => [\r\n      ...prevState,\r\n      {\r\n        firstName: firstName,\r\n        lastName: lastName,\r\n        email: email,\r\n        password: password,\r\n        money: 0,\r\n        transaction: [],\r\n      },\r\n    ]);\r\n  };\r\n\r\n  const loginHandler = (email, password) => {\r\n    console.log(accounts);\r\n    if (accounts.length === 0) alert(\"Account not found!\");\r\n\r\n    for (let i = 0; i < accounts.length; i++) {\r\n      if (accounts[i].email === email && accounts[i].password === password) {\r\n        setIsLoggedIn(true);\r\n        setCurrentLogin(accounts[i]);\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  const logoutHandler = () => {\r\n    setIsLoggedIn(false);\r\n    setCurrentLogin({});\r\n  };\r\n\r\n  const deposit = (amount, activity) => {\r\n    currentLogin.money += parseInt(amount);\r\n    currentLogin.transaction = [activity, ...currentLogin.transaction];\r\n    setCurrentLogin(currentLogin);\r\n  };\r\n\r\n  const withdrawal = (amount, activity) => {\r\n    currentLogin.money -= parseInt(amount);\r\n    currentLogin.transaction = [activity, ...currentLogin.transaction];\r\n    setCurrentLogin(currentLogin);\r\n  };\r\n\r\n  const authContext = {\r\n    users: accounts,\r\n    isLoggedIn: isLoggedIn,\r\n    currentLogin: currentLogin,\r\n    onLogout: logoutHandler,\r\n    onLogin: loginHandler,\r\n    onSignup: signupHandler,\r\n    onDeposit: deposit,\r\n    onWithdrawal: withdrawal,\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={authContext}>\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default AuthProvider;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}